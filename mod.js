// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=Object.defineProperty;function n(r){return"number"==typeof r}function t(r){var e,n="";for(e=0;e<r;e++)n+="0";return n}function i(r,e,n){var i=!1,a=e-r.length;return a<0||(function(r){return"-"===r[0]}(r)&&(i=!0,r=r.substr(1)),r=n?r+t(a):t(a)+r,i&&(r="-"+r)),r}var a=String.prototype.toLowerCase,o=String.prototype.toUpperCase;function c(r){var e,t,c;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(t=r.arg,c=parseInt(t,10),!isFinite(c)){if(!n(t))throw new Error("invalid integer. Value: "+t);c=0}return c<0&&("u"===r.specifier||10!==e)&&(c=4294967295+c+1),c<0?(t=(-c).toString(e),r.precision&&(t=i(t,r.precision,r.padRight)),t="-"+t):(t=c.toString(e),c||r.precision?r.precision&&(t=i(t,r.precision,r.padRight)):t="",r.sign&&(t=r.sign+t)),16===e&&(r.alternate&&(t="0x"+t),t=r.specifier===o.call(r.specifier)?o.call(t):a.call(t)),8===e&&r.alternate&&"0"!==t.charAt(0)&&(t="0"+t),t}function s(r){return"string"==typeof r}var u=Math.abs,f=String.prototype.toLowerCase,p=String.prototype.toUpperCase,l=String.prototype.replace,g=/e\+(\d)$/,d=/e-(\d)$/,h=/^(\d+)$/,y=/^(\d+)e/,w=/\.0$/,v=/\.0*e/,b=/(\..*[^0])0*e/;function m(r){var e,t,i=parseFloat(r.arg);if(!isFinite(i)){if(!n(r.arg))throw new Error("invalid floating-point number. Value: "+t);i=r.arg}switch(r.specifier){case"e":case"E":t=i.toExponential(r.precision);break;case"f":case"F":t=i.toFixed(r.precision);break;case"g":case"G":u(i)<1e-4?((e=r.precision)>0&&(e-=1),t=i.toExponential(e)):t=i.toPrecision(r.precision),r.alternate||(t=l.call(t,b,"$1e"),t=l.call(t,v,"e"),t=l.call(t,w,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return t=l.call(t,g,"e+0$1"),t=l.call(t,d,"e-0$1"),r.alternate&&(t=l.call(t,h,"$1."),t=l.call(t,y,"$1.e")),i>=0&&r.sign&&(t=r.sign+t),t=r.specifier===p.call(r.specifier)?p.call(t):f.call(t)}function A(r){var e,n="";for(e=0;e<r;e++)n+=" ";return n}function E(r,e,n){var t=e-r.length;return t<0?r:r=n?r+A(t):A(t)+r}var x=String.fromCharCode,k=isNaN,I=Array.isArray;function S(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function U(r){var e,n,t,a,o,u,f,p,l;if(!I(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(u="",f=1,p=0;p<r.length;p++)if(s(t=r[p]))u+=t;else{if(e=void 0!==t.precision,!(t=S(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+p+"`. Value: `"+t+"`.");for(t.mapping&&(f=t.mapping),n=t.flags,l=0;l<n.length;l++)switch(a=n.charAt(l)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=n.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+a)}if("*"===t.width){if(t.width=parseInt(arguments[f],10),f+=1,k(t.width))throw new TypeError("the argument for * width at position "+f+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[f],10),f+=1,k(t.precision))throw new TypeError("the argument for * precision at position "+f+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[f],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=c(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!k(t.arg)){if((o=parseInt(t.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=k(o)?String(t.arg):x(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=m(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=i(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=E(t.arg,t.width,t.padRight)),u+=t.arg||"",f+=1}return u}var F=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function V(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function j(r){var e,n,t,i;for(n=[],i=0,t=F.exec(r);t;)(e=r.slice(i,F.lastIndex-t[0].length)).length&&n.push(e),n.push(V(t)),i=F.lastIndex,t=F.exec(r);return(e=r.slice(i)).length&&n.push(e),n}function $(r){return"string"==typeof r}function T(r){var e,n,t;if(!$(r))throw new TypeError(T("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=j(r),(n=new Array(arguments.length))[0]=e,t=1;t<n.length;t++)n[t]=arguments[t];return U.apply(null,n)}var _,O=Object.prototype,C=O.toString,N=O.__defineGetter__,R=O.__defineSetter__,L=O.__lookupGetter__,W=O.__lookupSetter__;_=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,e,n){var t,i,a,o;if("object"!=typeof r||null===r||"[object Array]"===C.call(r))throw new TypeError(T("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof n||null===n||"[object Array]"===C.call(n))throw new TypeError(T("invalid argument. Property descriptor must be an object. Value: `%s`.",n));if((i="value"in n)&&(L.call(r,e)||W.call(r,e)?(t=r.__proto__,r.__proto__=O,delete r[e],r[e]=n.value,r.__proto__=t):r[e]=n.value),a="get"in n,o="set"in n,i&&(a||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&N&&N.call(r,e,n.get),o&&R&&R.call(r,e,n.set),r};var G=_;function Z(r,e,n){G(r,e,{configurable:!1,enumerable:!1,writable:!1,value:n})}var H=/./;function P(r){return"boolean"==typeof r}var M="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function X(){return M&&"symbol"==typeof Symbol.toStringTag}var B=Object.prototype.toString;var z=Object.prototype.hasOwnProperty;var Y,q="function"==typeof Symbol?Symbol:void 0,D="function"==typeof q?q.toStringTag:"";Y=X()?function(r){var e,n,t,i,a;if(null==r)return B.call(r);n=r[D],a=D,e=null!=(i=r)&&z.call(i,a);try{r[D]=void 0}catch(e){return B.call(r)}return t=B.call(r),e?r[D]=n:delete r[D],t}:function(r){return B.call(r)};var J=Y,K=Boolean,Q=Boolean.prototype.toString;var rr=X();function er(r){return"object"==typeof r&&(r instanceof K||(rr?function(r){try{return Q.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===J(r)))}function nr(r){return P(r)||er(r)}function tr(r){return"number"==typeof r}function ir(r){var e,n="";for(e=0;e<r;e++)n+="0";return n}function ar(r,e,n){var t=!1,i=e-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=n?r+ir(i):ir(i)+r,t&&(r="-"+r)),r}Z(nr,"isPrimitive",P),Z(nr,"isObject",er);var or=String.prototype.toLowerCase,cr=String.prototype.toUpperCase;function sr(r){var e,n,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(n=r.arg,t=parseInt(n,10),!isFinite(t)){if(!tr(n))throw new Error("invalid integer. Value: "+n);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(n=(-t).toString(e),r.precision&&(n=ar(n,r.precision,r.padRight)),n="-"+n):(n=t.toString(e),t||r.precision?r.precision&&(n=ar(n,r.precision,r.padRight)):n="",r.sign&&(n=r.sign+n)),16===e&&(r.alternate&&(n="0x"+n),n=r.specifier===cr.call(r.specifier)?cr.call(n):or.call(n)),8===e&&r.alternate&&"0"!==n.charAt(0)&&(n="0"+n),n}function ur(r){return"string"==typeof r}var fr=Math.abs,pr=String.prototype.toLowerCase,lr=String.prototype.toUpperCase,gr=String.prototype.replace,dr=/e\+(\d)$/,hr=/e-(\d)$/,yr=/^(\d+)$/,wr=/^(\d+)e/,vr=/\.0$/,br=/\.0*e/,mr=/(\..*[^0])0*e/;function Ar(r){var e,n,t=parseFloat(r.arg);if(!isFinite(t)){if(!tr(r.arg))throw new Error("invalid floating-point number. Value: "+n);t=r.arg}switch(r.specifier){case"e":case"E":n=t.toExponential(r.precision);break;case"f":case"F":n=t.toFixed(r.precision);break;case"g":case"G":fr(t)<1e-4?((e=r.precision)>0&&(e-=1),n=t.toExponential(e)):n=t.toPrecision(r.precision),r.alternate||(n=gr.call(n,mr,"$1e"),n=gr.call(n,br,"e"),n=gr.call(n,vr,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return n=gr.call(n,dr,"e+0$1"),n=gr.call(n,hr,"e-0$1"),r.alternate&&(n=gr.call(n,yr,"$1."),n=gr.call(n,wr,"$1.e")),t>=0&&r.sign&&(n=r.sign+n),n=r.specifier===lr.call(r.specifier)?lr.call(n):pr.call(n)}function Er(r){var e,n="";for(e=0;e<r;e++)n+=" ";return n}function xr(r,e,n){var t=e-r.length;return t<0?r:r=n?r+Er(t):Er(t)+r}var kr=String.fromCharCode,Ir=isNaN,Sr=Array.isArray;function Ur(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function Fr(r){var e,n,t,i,a,o,c,s,u;if(!Sr(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",c=1,s=0;s<r.length;s++)if(ur(t=r[s]))o+=t;else{if(e=void 0!==t.precision,!(t=Ur(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+t+"`.");for(t.mapping&&(c=t.mapping),n=t.flags,u=0;u<n.length;u++)switch(i=n.charAt(u)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=n.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===t.width){if(t.width=parseInt(arguments[c],10),c+=1,Ir(t.width))throw new TypeError("the argument for * width at position "+c+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[c],10),c+=1,Ir(t.precision))throw new TypeError("the argument for * precision at position "+c+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[c],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=sr(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!Ir(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=Ir(a)?String(t.arg):kr(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=Ar(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=ar(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=xr(t.arg,t.width,t.padRight)),o+=t.arg||"",c+=1}return o}var Vr=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function jr(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function $r(r){var e,n,t,i;for(n=[],i=0,t=Vr.exec(r);t;)(e=r.slice(i,Vr.lastIndex-t[0].length)).length&&n.push(e),n.push(jr(t)),i=Vr.lastIndex,t=Vr.exec(r);return(e=r.slice(i)).length&&n.push(e),n}function Tr(r){return"string"==typeof r}function _r(r){var e,n,t;if(!Tr(r))throw new TypeError(_r("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=$r(r),(n=new Array(arguments.length))[0]=e,t=1;t<n.length;t++)n[t]=arguments[t];return Fr.apply(null,n)}function Or(){return new Function("return this;")()}var Cr="object"==typeof self?self:null,Nr="object"==typeof window?window:null,Rr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Lr="object"==typeof Rr?Rr:null,Wr="object"==typeof globalThis?globalThis:null;var Gr=function(r){if(arguments.length){if(!P(r))throw new TypeError(_r("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return Or()}if(Wr)return Wr;if(Cr)return Cr;if(Nr)return Nr;if(Lr)return Lr;throw new Error("unexpected error. Unable to resolve global object.")}(),Zr=Gr.document&&Gr.document.childNodes,Hr=Int8Array;function Pr(){return/^\s*function\s*([^(]*)/i}var Mr,Xr=/^\s*function\s*([^(]*)/i;Z(Pr,"REGEXP",Xr),Mr=Array.isArray?Array.isArray:function(r){return"[object Array]"===J(r)};var Br=Mr;function zr(r){return"number"==typeof r}function Yr(r){var e,n="";for(e=0;e<r;e++)n+="0";return n}function qr(r,e,n){var t=!1,i=e-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=n?r+Yr(i):Yr(i)+r,t&&(r="-"+r)),r}var Dr=String.prototype.toLowerCase,Jr=String.prototype.toUpperCase;function Kr(r){var e,n,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(n=r.arg,t=parseInt(n,10),!isFinite(t)){if(!zr(n))throw new Error("invalid integer. Value: "+n);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(n=(-t).toString(e),r.precision&&(n=qr(n,r.precision,r.padRight)),n="-"+n):(n=t.toString(e),t||r.precision?r.precision&&(n=qr(n,r.precision,r.padRight)):n="",r.sign&&(n=r.sign+n)),16===e&&(r.alternate&&(n="0x"+n),n=r.specifier===Jr.call(r.specifier)?Jr.call(n):Dr.call(n)),8===e&&r.alternate&&"0"!==n.charAt(0)&&(n="0"+n),n}function Qr(r){return"string"==typeof r}var re=Math.abs,ee=String.prototype.toLowerCase,ne=String.prototype.toUpperCase,te=String.prototype.replace,ie=/e\+(\d)$/,ae=/e-(\d)$/,oe=/^(\d+)$/,ce=/^(\d+)e/,se=/\.0$/,ue=/\.0*e/,fe=/(\..*[^0])0*e/;function pe(r){var e,n,t=parseFloat(r.arg);if(!isFinite(t)){if(!zr(r.arg))throw new Error("invalid floating-point number. Value: "+n);t=r.arg}switch(r.specifier){case"e":case"E":n=t.toExponential(r.precision);break;case"f":case"F":n=t.toFixed(r.precision);break;case"g":case"G":re(t)<1e-4?((e=r.precision)>0&&(e-=1),n=t.toExponential(e)):n=t.toPrecision(r.precision),r.alternate||(n=te.call(n,fe,"$1e"),n=te.call(n,ue,"e"),n=te.call(n,se,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return n=te.call(n,ie,"e+0$1"),n=te.call(n,ae,"e-0$1"),r.alternate&&(n=te.call(n,oe,"$1."),n=te.call(n,ce,"$1.e")),t>=0&&r.sign&&(n=r.sign+n),n=r.specifier===ne.call(r.specifier)?ne.call(n):ee.call(n)}function le(r){var e,n="";for(e=0;e<r;e++)n+=" ";return n}function ge(r,e,n){var t=e-r.length;return t<0?r:r=n?r+le(t):le(t)+r}var de=String.fromCharCode,he=isNaN,ye=Array.isArray;function we(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function ve(r){var e,n,t,i,a,o,c,s,u;if(!ye(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",c=1,s=0;s<r.length;s++)if(Qr(t=r[s]))o+=t;else{if(e=void 0!==t.precision,!(t=we(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+t+"`.");for(t.mapping&&(c=t.mapping),n=t.flags,u=0;u<n.length;u++)switch(i=n.charAt(u)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=n.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===t.width){if(t.width=parseInt(arguments[c],10),c+=1,he(t.width))throw new TypeError("the argument for * width at position "+c+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[c],10),c+=1,he(t.precision))throw new TypeError("the argument for * precision at position "+c+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[c],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=Kr(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!he(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=he(a)?String(t.arg):de(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=pe(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=qr(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=ge(t.arg,t.width,t.padRight)),o+=t.arg||"",c+=1}return o}var be=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function me(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function Ae(r){var e,n,t,i;for(n=[],i=0,t=be.exec(r);t;)(e=r.slice(i,be.lastIndex-t[0].length)).length&&n.push(e),n.push(me(t)),i=be.lastIndex,t=be.exec(r);return(e=r.slice(i)).length&&n.push(e),n}function Ee(r){return"string"==typeof r}function xe(r){var e,n,t;if(!Ee(r))throw new TypeError(xe("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=Ae(r),(n=new Array(arguments.length))[0]=e,t=1;t<n.length;t++)n[t]=arguments[t];return ve.apply(null,n)}function ke(r){return null!==r&&"object"==typeof r}var Ie=function(r){if("function"!=typeof r)throw new TypeError(xe("invalid argument. Must provide a function. Value: `%s`.",r));return function(e){var n,t;if(!Br(e))return!1;if(0===(n=e.length))return!1;for(t=0;t<n;t++)if(!1===r(e[t]))return!1;return!0}}(ke);function Se(r){var e,n,t,i;if(("Object"===(n=J(r).slice(8,-1))||"Error"===n)&&r.constructor){if("string"==typeof(t=r.constructor).name)return t.name;if(e=Xr.exec(t.toString()))return e[1]}return ke(i=r)&&(i._isBuffer||i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i))?"Buffer":n}Z(ke,"isObjectLikeArray",Ie);var Ue="function"==typeof H||"object"==typeof Hr||"function"==typeof Zr?function(r){return Se(r).toLowerCase()}:function(r){var e;return null===r?"null":"object"===(e=typeof r)?Se(r).toLowerCase():e};function Fe(r){return"function"===Ue(r)}function Ve(r){return"number"==typeof r}var je=Number,$e=je.prototype.toString;var Te=X();function _e(r){return"object"==typeof r&&(r instanceof je||(Te?function(r){try{return $e.call(r),!0}catch(r){return!1}}(r):"[object Number]"===J(r)))}function Oe(r){return Ve(r)||_e(r)}Z(Oe,"isPrimitive",Ve),Z(Oe,"isObject",_e);var Ce=Number.POSITIVE_INFINITY,Ne=je.NEGATIVE_INFINITY,Re=Math.floor;function Le(r){return r<Ce&&r>Ne&&Re(e=r)===e;var e}function We(r){return Ve(r)&&Le(r)}function Ge(r){return _e(r)&&Le(r.valueOf())}function Ze(r){return We(r)||Ge(r)}function He(r){return We(r)&&r>0}function Pe(r){return Ge(r)&&r.valueOf()>0}function Me(r){return He(r)||Pe(r)}Z(Ze,"isPrimitive",We),Z(Ze,"isObject",Ge),Z(Me,"isPrimitive",He),Z(Me,"isObject",Pe);var Xe=Object.prototype.hasOwnProperty;var Be,ze,Ye="function"==typeof q&&"symbol"==typeof q("foo")&&(ze="iterator",null!=(Be=q)&&Xe.call(Be,ze))&&"symbol"==typeof q.iterator?Symbol.iterator:null;function qe(r){return r!=r}function De(r){return r===Ce||r===Ne}function Je(r){return r===Ce||r===Ne}function Ke(r,e,n,t){return qe(r)||Je(r)?(e[t]=r,e[t+n]=0,e):0!==r&&function(r){return Math.abs(r)}(r)<22250738585072014e-324?(e[t]=4503599627370496*r,e[t+n]=-52,e):(e[t]=r,e[t+n]=0,e)}Z((function(r){return Ke(r,[0,0],1,0)}),"assign",Ke);var Qe="function"==typeof Uint32Array;var rn="function"==typeof Uint32Array?Uint32Array:null;var en,nn="function"==typeof Uint32Array?Uint32Array:void 0;en=function(){var r,e;if("function"!=typeof rn)return!1;try{r=function(r){return Qe&&r instanceof Uint32Array||"[object Uint32Array]"===J(r)}(e=new rn(e=[1,3.14,-3.14,4294967296,4294967297]))&&1===e[0]&&3===e[1]&&4294967293===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?nn:function(){throw new Error("not implemented")};var tn=en,an="function"==typeof Float64Array;var on="function"==typeof Float64Array?Float64Array:null;var cn,sn="function"==typeof Float64Array?Float64Array:void 0;cn=function(){var r,e;if("function"!=typeof on)return!1;try{r=function(r){return an&&r instanceof Float64Array||"[object Float64Array]"===J(r)}(e=new on([1,3.14,-3.14,NaN]))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){r=!1}return r}()?sn:function(){throw new Error("not implemented")};var un=cn,fn="function"==typeof Uint8Array;var pn="function"==typeof Uint8Array?Uint8Array:null;var ln,gn="function"==typeof Uint8Array?Uint8Array:void 0;ln=function(){var r,e;if("function"!=typeof pn)return!1;try{r=function(r){return fn&&r instanceof Uint8Array||"[object Uint8Array]"===J(r)}(e=new pn(e=[1,3.14,-3.14,256,257]))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?gn:function(){throw new Error("not implemented")};var dn=ln,hn="function"==typeof Uint16Array;var yn="function"==typeof Uint16Array?Uint16Array:null;var wn,vn="function"==typeof Uint16Array?Uint16Array:void 0;wn=function(){var r,e;if("function"!=typeof yn)return!1;try{r=function(r){return hn&&r instanceof Uint16Array||"[object Uint16Array]"===J(r)}(e=new yn(e=[1,3.14,-3.14,65536,65537]))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?vn:function(){throw new Error("not implemented")};var bn,mn={uint16:wn,uint8:dn};(bn=new mn.uint16(1))[0]=4660;var An=52===new mn.uint8(bn.buffer)[0],En=!0===An?1:0,xn=new un(1),kn=new tn(xn.buffer);var In,Sn;function Un(r){var e=function(r){return xn[0]=r,kn[En]}(r);return(e=(2146435072&e)>>>20)-1023|0}!0===An?(In=1,Sn=0):(In=0,Sn=1);var Fn,Vn,jn={HIGH:In,LOW:Sn},$n=new un(1),Tn=new tn($n.buffer),_n=jn.HIGH,On=jn.LOW;function Cn(r,e,n,t){return $n[0]=r,e[t]=Tn[_n],e[t+n]=Tn[On],e}function Nn(r){return Cn(r,[0,0],1,0)}Z(Nn,"assign",Cn),!0===An?(Fn=1,Vn=0):(Fn=0,Vn=1);var Rn={HIGH:Fn,LOW:Vn},Ln=new un(1),Wn=new tn(Ln.buffer),Gn=Rn.HIGH,Zn=Rn.LOW;var Hn=[0,0],Pn=[0,0];function Mn(r,e,n,t){var i,a;return 0===r||qe(r)||Je(r)?(e[t]=r,e[t+n]=0,e):(Ke(r,Hn,1,0),a=Un(Hn[0])+Hn[1]+1,Nn.assign(Hn[0],Pn,1,0),i=Pn[0],i&=2148532223,r=function(r,e){return Wn[Gn]=r,Wn[Zn]=e,Ln[0]}(i|=1071644672,Pn[1]),e[t]=r,e[t+n]=a,e)}Z((function(r){return Mn(r,[0,0],1,0)}),"assign",Mn);var Xn="function"==typeof Uint32Array;var Bn="function"==typeof Uint32Array?Uint32Array:null;var zn,Yn="function"==typeof Uint32Array?Uint32Array:void 0;zn=function(){var r,e;if("function"!=typeof Bn)return!1;try{r=function(r){return Xn&&r instanceof Uint32Array||"[object Uint32Array]"===J(r)}(e=new Bn(e=[1,3.14,-3.14,4294967296,4294967297]))&&1===e[0]&&3===e[1]&&4294967293===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?Yn:function(){throw new Error("not implemented")};var qn=zn,Dn="function"==typeof Float64Array;var Jn="function"==typeof Float64Array?Float64Array:null;var Kn,Qn="function"==typeof Float64Array?Float64Array:void 0;Kn=function(){var r,e;if("function"!=typeof Jn)return!1;try{r=function(r){return Dn&&r instanceof Float64Array||"[object Float64Array]"===J(r)}(e=new Jn([1,3.14,-3.14,NaN]))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){r=!1}return r}()?Qn:function(){throw new Error("not implemented")};var rt=Kn,et="function"==typeof Uint8Array;var nt="function"==typeof Uint8Array?Uint8Array:null;var tt,it="function"==typeof Uint8Array?Uint8Array:void 0;tt=function(){var r,e;if("function"!=typeof nt)return!1;try{r=function(r){return et&&r instanceof Uint8Array||"[object Uint8Array]"===J(r)}(e=new nt(e=[1,3.14,-3.14,256,257]))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?it:function(){throw new Error("not implemented")};var at=tt,ot="function"==typeof Uint16Array;var ct="function"==typeof Uint16Array?Uint16Array:null;var st,ut="function"==typeof Uint16Array?Uint16Array:void 0;st=function(){var r,e;if("function"!=typeof ct)return!1;try{r=function(r){return ot&&r instanceof Uint16Array||"[object Uint16Array]"===J(r)}(e=new ct(e=[1,3.14,-3.14,65536,65537]))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?ut:function(){throw new Error("not implemented")};var ft,pt={uint16:st,uint8:at};ft=function(){var r;return(r=new pt.uint16(1))[0]=4660,52===new pt.uint8(r.buffer)[0]}();var lt,gt,dt=ft;!0===dt?(lt=1,gt=0):(lt=0,gt=1);var ht={HIGH:lt,LOW:gt},yt=new rt(1),wt=new qn(yt.buffer),vt=ht.HIGH,bt=ht.LOW;function mt(r,e,n,t){return yt[0]=r,e[t]=wt[vt],e[t+n]=wt[bt],e}function At(r){return mt(r,[0,0],1,0)}Z(At,"assign",mt);var Et,xt,kt=!0===dt?1:0,It=new rt(1),St=new qn(It.buffer);function Ut(r){return It[0]=r,St[kt]}!0===dt?(Et=1,xt=0):(Et=0,xt=1);var Ft={HIGH:Et,LOW:xt},Vt=new rt(1),jt=new qn(Vt.buffer),$t=Ft.HIGH,Tt=Ft.LOW;function _t(r,e){return jt[$t]=r,jt[Tt]=e,Vt[0]}var Ot=[0,0];function Ct(r,e,n,t){return qe(r)||De(r)?(e[t]=r,e[t+n]=0,e):0!==r&&function(r){return Math.abs(r)}(r)<22250738585072014e-324?(e[t]=4503599627370496*r,e[t+n]=-52,e):(e[t]=r,e[t+n]=0,e)}Z((function(r){return Ct(r,[0,0],1,0)}),"assign",Ct);var Nt=[0,0],Rt=[0,0];function Lt(r,e){var n,t,i,a,o,c;return 0===e||0===r||qe(r)||De(r)?r:(Ct(r,Nt,1,0),e+=Nt[1],e+=function(r){var e=Ut(r);return(e=(2146435072&e)>>>20)-1023|0}(r=Nt[0]),e<-1074?(i=0,a=r,At.assign(i,Ot,1,0),o=Ot[0],o&=2147483647,c=Ut(a),_t(o|=c&=2147483648,Ot[1])):e>1023?r<0?Ne:Ce:(e<=-1023?(e+=52,t=2220446049250313e-31):t=1,At.assign(r,Rt,1,0),n=Rt[0],n&=2148532223,t*_t(n|=e+1023<<20,Rt[1])))}function Wt(r){return"number"==typeof r}function Gt(r){var e,n="";for(e=0;e<r;e++)n+="0";return n}function Zt(r,e,n){var t=!1,i=e-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=n?r+Gt(i):Gt(i)+r,t&&(r="-"+r)),r}var Ht=String.prototype.toLowerCase,Pt=String.prototype.toUpperCase;function Mt(r){var e,n,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(n=r.arg,t=parseInt(n,10),!isFinite(t)){if(!Wt(n))throw new Error("invalid integer. Value: "+n);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(n=(-t).toString(e),r.precision&&(n=Zt(n,r.precision,r.padRight)),n="-"+n):(n=t.toString(e),t||r.precision?r.precision&&(n=Zt(n,r.precision,r.padRight)):n="",r.sign&&(n=r.sign+n)),16===e&&(r.alternate&&(n="0x"+n),n=r.specifier===Pt.call(r.specifier)?Pt.call(n):Ht.call(n)),8===e&&r.alternate&&"0"!==n.charAt(0)&&(n="0"+n),n}function Xt(r){return"string"==typeof r}var Bt=Math.abs,zt=String.prototype.toLowerCase,Yt=String.prototype.toUpperCase,qt=String.prototype.replace,Dt=/e\+(\d)$/,Jt=/e-(\d)$/,Kt=/^(\d+)$/,Qt=/^(\d+)e/,ri=/\.0$/,ei=/\.0*e/,ni=/(\..*[^0])0*e/;function ti(r){var e,n,t=parseFloat(r.arg);if(!isFinite(t)){if(!Wt(r.arg))throw new Error("invalid floating-point number. Value: "+n);t=r.arg}switch(r.specifier){case"e":case"E":n=t.toExponential(r.precision);break;case"f":case"F":n=t.toFixed(r.precision);break;case"g":case"G":Bt(t)<1e-4?((e=r.precision)>0&&(e-=1),n=t.toExponential(e)):n=t.toPrecision(r.precision),r.alternate||(n=qt.call(n,ni,"$1e"),n=qt.call(n,ei,"e"),n=qt.call(n,ri,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return n=qt.call(n,Dt,"e+0$1"),n=qt.call(n,Jt,"e-0$1"),r.alternate&&(n=qt.call(n,Kt,"$1."),n=qt.call(n,Qt,"$1.e")),t>=0&&r.sign&&(n=r.sign+n),n=r.specifier===Yt.call(r.specifier)?Yt.call(n):zt.call(n)}function ii(r){var e,n="";for(e=0;e<r;e++)n+=" ";return n}function ai(r,e,n){var t=e-r.length;return t<0?r:r=n?r+ii(t):ii(t)+r}var oi=String.fromCharCode,ci=isNaN,si=Array.isArray;function ui(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function fi(r){var e,n,t,i,a,o,c,s,u;if(!si(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",c=1,s=0;s<r.length;s++)if(Xt(t=r[s]))o+=t;else{if(e=void 0!==t.precision,!(t=ui(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+t+"`.");for(t.mapping&&(c=t.mapping),n=t.flags,u=0;u<n.length;u++)switch(i=n.charAt(u)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=n.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===t.width){if(t.width=parseInt(arguments[c],10),c+=1,ci(t.width))throw new TypeError("the argument for * width at position "+c+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[c],10),c+=1,ci(t.precision))throw new TypeError("the argument for * precision at position "+c+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[c],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=Mt(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!ci(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=ci(a)?String(t.arg):oi(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=ti(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=Zt(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=ai(t.arg,t.width,t.padRight)),o+=t.arg||"",c+=1}return o}var pi=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function li(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function gi(r){var e,n,t,i;for(n=[],i=0,t=pi.exec(r);t;)(e=r.slice(i,pi.lastIndex-t[0].length)).length&&n.push(e),n.push(li(t)),i=pi.lastIndex,t=pi.exec(r);return(e=r.slice(i)).length&&n.push(e),n}function di(r){return"string"==typeof r}function hi(r){var e,n,t;if(!di(r))throw new TypeError(hi("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=gi(r),(n=new Array(arguments.length))[0]=e,t=1;t<n.length;t++)n[t]=arguments[t];return fi.apply(null,n)}function yi(r,e,n){return Mn(n,r,1,0),e.frac*=r[0],e.exp+=r[1],e.frac>-.5&&e.frac<.5&&(Mn(e.frac,r,1,0),e.frac=r[0],e.exp+=r[1]),Lt(e.frac,e.exp)}function wi(r){var e,n,t,i,a,o;if(!He(r))throw new TypeError(hi("invalid argument. Must provide a positive integer. Value: `%s`.",r));return t=new rt(r),o=-1,a=0,e=[0,0],n=1,(i={}).frac=.5,i.exp=1,function(c){var s,u;if(0===arguments.length)return 0===a?null:n;if(o=(o+1)%r,qe(c))a=r,n=NaN;else if(a<r)a+=1,n=yi(e,i,c);else if(0===t[o]||qe(t[o])||De(t[o])){for(a=1,i.frac=.5,i.exp=1,yi(e,i,c),s=0;s<r;s++)if(s!==o){if(qe(u=t[s])){a=r,n=NaN;break}a+=1,n=yi(e,i,u)}}else!1===qe(n)&&(u=c/t[o],n=yi(e,i,u));return t[o]=c,n}}function vi(){var r,e=arguments,n=e[0],t="https://stdlib.io/e/"+n+"?";for(r=1;r<e.length;r++)t+="&arg[]="+encodeURIComponent(e[r]);return t}function bi(r,e){var n,t,i;if(!function(r){var e=typeof r;return null!==r&&("object"===e||"function"===e)&&Fe(r.next)}(r))throw new TypeError(vi("1L93v,IA",r));if(!He(e))throw new TypeError(vi("1L945,IB",e));return i=wi(e),Z(n={},"next",(function(){var e;if(t)return{done:!0};if((e=r.next()).done)return t=!0,{done:!0};e="number"==typeof e.value?i(e.value):i(NaN);return{value:e,done:!1}})),Z(n,"return",(function(r){if(t=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),Ye&&Fe(r[Ye])&&Z(n,Ye,(function(){return bi(r[Ye](),e)})),n}export{bi as default};
//# sourceMappingURL=mod.js.map
